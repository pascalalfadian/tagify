!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.React.tagify=n()}(this,(function(){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.MixedTags=void 0;var n,t=function(n,t){if(!t&&n&&n.__esModule)return n;if(null===n||"object"!==e(n)&&"function"!=typeof n)return{default:n};var o=i(t);if(o&&o.has(n))return o.get(n);var r={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in n)if("default"!==a&&Object.prototype.hasOwnProperty.call(n,a)){var c=u?Object.getOwnPropertyDescriptor(n,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=n[a]}r.default=n,o&&o.set(n,r);return r}(require("react")),o=require("react-dom/server"),r=require("prop-types"),u=(n=require("./tagify.min.js"))&&n.__esModule?n:{default:n};function i(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:n})(e)}function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function c(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)t=u[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var l=function(e){return e};var s=function(e){var n=e.name,r=e.value,i=void 0===r?"":r,a=e.loading,c=void 0!==a&&a,f=e.onInput,s=void 0===f?l:f,p=e.onAdd,y=void 0===p?l:p,v=e.onRemove,g=void 0===v?l:v,w=e.onEditInput,m=void 0===w?l:w,h=e.onEditBeforeUpdate,b=void 0===h?l:h,O=e.onEditUpdated,E=void 0===O?l:O,S=e.onEditStart,j=void 0===S?l:S,M=e.onEditKeydown,D=void 0===M?l:M,x=e.onInvalid,I=void 0===x?l:x,k=e.onClick,N=void 0===k?l:k,T=e.onKeydown,A=void 0===T?l:T,P=e.onFocus,R=void 0===P?l:P,C=e.onBlur,U=void 0===C?l:C,F=e.onChange,_=void 0===F?l:F,V=e.onDropdownShow,q=void 0===V?l:V,B=e.onDropdownHide,K=void 0===B?l:B,J=e.onDropdownSelect,W=void 0===J?l:J,H=e.onDropdownScroll,$=void 0===H?l:H,z=e.onDropdownNoMatch,G=void 0===z?l:z,L=e.onDropdownUpdated,Q=void 0===L?l:L,X=e.readOnly,Y=e.children,Z=e.settings,ee=void 0===Z?{}:Z,ne=e.InputMode,te=void 0===ne?"input":ne,oe=e.autoFocus,re=e.className,ue=e.whitelist,ie=e.tagifyRef,ae=e.placeholder,ce=void 0===ae?"":ae,de=e.defaultValue,fe=e.showDropdown,le=(0,t.useRef)(),se=(0,t.useRef)(),pe=(0,t.useRef)(),ye=function(e){se.current=e};void 0===i&&(i=de);var ve=(0,t.useMemo)((function(){return{ref:ye,name:n,defaultValue:Y||("string"==typeof i?i:JSON.stringify(i)),className:re,readOnly:X,autoFocus:oe,placeholder:ce}}),[]),ge=(0,t.useCallback)((function(){oe&&pe.current&&pe.current.DOM.input.focus()}),[pe]);return(0,t.useEffect)((function(){!function(e){if(e)for(var n in e)String(e[n]).includes(".createElement")&&function(){var r=e[n];e[n]=function(e){return(0,o.renderToStaticMarkup)(t.default.createElement(r,e))}}()}(ee.templates),"textarea"==te&&(ee.mode="mix"),ue&&ue.length&&(ee.whitelist=ue);var e=new u.default(se.current,ee);return e.on("input",s),e.on("add",y),e.on("remove",g),e.on("invalid",I),e.on("keydown",A),e.on("focus",R),e.on("blur",U),e.on("click",N),e.on("change",_),e.on("edit:input",m),e.on("edit:beforeUpdate",b),e.on("edit:updated",E),e.on("edit:start",j),e.on("edit:keydown",D),e.on("dropdown:show",q),e.on("dropdown:hide",K),e.on("dropdown:select",W),e.on("dropdown:scroll",$),e.on("dropdown:noMatch",G),e.on("dropdown:updated",Q),ie&&(ie.current=e),pe.current=e,ge(),function(){e.destroy()}}),[]),(0,t.useEffect)((function(){ge()}),[oe]),(0,t.useEffect)((function(){var e;le.current&&(pe.current.settings.whitelist.length=0,ue&&ue.length&&(e=pe.current.settings.whitelist).push.apply(e,d(ue)))}),[ue]),(0,t.useEffect)((function(){var e,n,t=pe.current.getInputValue();le.current&&(e=i,n=t,JSON.stringify(e)!=JSON.stringify(n))&&pe.current.loadOriginalValues(i)}),[i]),(0,t.useEffect)((function(){le.current&&pe.current.toggleClass(re)}),[re]),(0,t.useEffect)((function(){le.current&&pe.current.loading(c)}),[c]),(0,t.useEffect)((function(){le.current&&pe.current.setReadonly(X)}),[X]),(0,t.useEffect)((function(){var e=pe.current;le.current&&(fe?(e.dropdown.show.call(e,fe),e.toggleFocusClass(!0)):e.dropdown.hide.call(e))}),[fe]),(0,t.useEffect)((function(){le.current=!0}),[]),t.default.createElement("div",{className:"tags-input"},t.default.createElement(te,ve))};s.propTypes={name:r.string,value:(0,r.oneOfType)([r.string,r.array]),loading:r.bool,children:(0,r.oneOfType)([r.string,r.array]),onChange:r.func,readOnly:r.bool,settings:r.object,InputMode:r.string,autoFocus:r.bool,className:r.string,tagifyRef:r.object,whitelist:r.array,placeholder:r.string,defaultValue:(0,r.oneOfType)([r.string,r.array]),showDropdown:(0,r.oneOfType)([r.string,r.bool]),onInput:r.func,onAdd:r.func,onRemove:r.func,onEditInput:r.func,onEditBeforeUpdate:r.func,onEditUpdated:r.func,onEditStart:r.func,onEditKeydown:r.func,onInvalid:r.func,onClick:r.func,onKeydown:r.func,onFocus:r.func,onBlur:r.func,onDropdownShow:r.func,onDropdownHide:r.func,onDropdownSelect:r.func,onDropdownScroll:r.func,onDropdownNoMatch:r.func,onDropdownUpdated:r.func};var p=t.default.memo(s);p.displayName="Tags";exports.MixedTags=function(e){var n=e.children,o=c(e,["children"]);return t.default.createElement(p,a({InputMode:"textarea"},o),n)};var y=p;return exports.default=y,exports}));